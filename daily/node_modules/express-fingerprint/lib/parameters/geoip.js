'use strict';

var _geoipLite = require('geoip-lite');

var _geoipLite2 = _interopRequireDefault(_geoipLite);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

module.exports = function (next) {
  const geo = _geoipLite2.default.lookup(this.req.ip);
  next(null, {
    geoip: {
      country: geo ? geo.country : null
    }
  });
};